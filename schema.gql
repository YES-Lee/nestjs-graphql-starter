# -----------------------------------------------
# !!! THIS FILE WAS GENERATED BY TYPE-GRAPHQL !!!
# !!!   DO NOT MODIFY THIS FILE BY YOURSELF   !!!
# -----------------------------------------------

type BaseEntity {
  id: Int
  createdAt: DateTime
  updatedAt: DateTime
  deletedAt: DateTime
}

"""
The javascript `Date` as string. Type represents date and time as the ISO Date string.
"""
scalar DateTime

enum GenderEnum {
  MALE
  FEMALE
  OTHER
}

"""用户组"""
type GroupEntity {
  id: Int
  createdAt: DateTime
  updatedAt: DateTime
  deletedAt: DateTime

  """用户组名称"""
  name: String

  """备注"""
  remark: String
  userGroup: UserGroupEntity
}

"""用户组"""
type GroupListResult implements IPageResult {
  count: Int
  rows: [GroupEntity]
}

"""分页接口返回数据接口"""
interface IPageResult {
  count: Int
}

"""登录账号"""
input LoginInput {
  """用户名"""
  username: String!

  """密码"""
  password: String!
}

"""登录返回结果"""
type LoginResult {
  id: Int
  createdAt: DateTime
  updatedAt: DateTime
  deletedAt: DateTime

  """用户名"""
  username: String

  """昵称"""
  nickname: String

  """性别"""
  gender: GenderEnum
  userGroups(pageSize: Int, page: Int): UserGroupListResult
  groups(pageSize: Int, page: Int): GroupListResult

  """登录认证令牌"""
  token: String
}

"""菜单"""
type MenuEntity {
  id: Float

  """菜单名"""
  name: String
}

type Mutation {
  """发送测试信息"""
  sendTestMessage(message: String): String

  """用户登录"""
  login(account: LoginInput): LoginResult
}

type Query {
  """测试接口"""
  test: String

  """环境变量"""
  systemInfo: SystemInfoResult
  groupById(id: Int): GroupEntity

  """获取当前登录用户信息"""
  getCurrentUser: UserEntity

  """获取用户列表"""
  userList(
    """页码"""
    page: Int = 1

    """每页数量"""
    pageSize: Int = 10
  ): UserListResult
}

type Subscription {
  onTestMessage: String
}

"""系统信息"""
type SystemInfoResult {
  """版本"""
  version: String

  """环境变量"""
  env: String
}

"""用户信息"""
type UserEntity {
  id: Int
  createdAt: DateTime
  updatedAt: DateTime
  deletedAt: DateTime

  """用户名"""
  username: String

  """昵称"""
  nickname: String

  """性别"""
  gender: GenderEnum
  userGroups(pageSize: Int, page: Int): UserGroupListResult
  groups(pageSize: Int, page: Int): GroupListResult
}

"""用户组"""
type UserGroupEntity {
  id: Int
  createdAt: DateTime
  updatedAt: DateTime
  deletedAt: DateTime
  userId: Int
  groupId: Int

  """备注"""
  remark: String
  group: GroupEntity
  user: UserEntity
}

"""用户-用户组关系表列表"""
type UserGroupListResult implements IPageResult {
  count: Int
  rows: [UserGroupEntity]
}

"""用户列表"""
type UserListResult implements IPageResult {
  count: Int
  rows: [UserEntity]
}
